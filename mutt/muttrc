# vim: filetype=neomuttrc
# This is the general mutt config which has the settings that all accounts use.
bind index,pager i noop
bind index,pager g noop
bind index \Cf noop
source etc/muttcol
#source personal.muttrc
source etc/aliases
set sleep_time = 0
set sort = 'reverse-date'
set editor = vim
#set copy = no
set timeout = "5"
set mail_check = "10"
set mailcap_path = ~/.config/mutt/etc/mailcap
set date_format="%m/%d %I:%M"
set index_format="%2C %Z %D %-15.15F %s (%-4.4c)"
set markers = no
set mark_old = no
auto_view text/html
auto_view application/pdf
alternative_order text/plain text/enriched text/html

# General remappings
bind editor <space> noop
bind index G  last-entry
#bind index gg first-entry
bind index d half-down
bind index u half-up
bind index D delete-message
bind index U undelete-message
bind index F search
bind index,pager R group-reply
macro index,pager S '<sync-mailbox>
#macro index,pager \Cu |urlview\n
macro index,pager \Cu |qutebrowser\n

# Notmuch searching
macro index \Cf "<enter-command>unset wait_key<enter><shell-escape>read -p 'notmuch query: ' x; echo \$x >~/.cache/mutt_terms<enter><limit>~i \"\`notmuch search --output=messages \$(cat ~/.cache/mutt_terms) | head -n 600 | perl -le '@a=<>;chomp@a;s/\^id:// for@a;$,=\"|\";print@a'\`\"<enter>" "show only messages matching a notmuch pattern"
macro index A "<limit>all\n" "show all messages (undo limit)"

# Sidebar mappings
set sidebar_visible = yes
set sidebar_width = 20
set sidebar_short_path = yes
set sidebar_next_new_wrap = yes
set mail_check_stats
set sidebar_format = '%B%?F? [%F]?%* %?N?%N/?%S'
bind index,pager \Ck sidebar-prev
bind index,pager \Cj sidebar-next
bind index,pager \Co sidebar-open
bind index,pager <F3> sidebar-page-up
bind index,pager <F4> sidebar-page-down
bind index,pager \Cp sidebar-prev-new
bind index,pager \Cn sidebar-next-new
bind index,pager B sidebar-toggle-visible



##Account 52Travel
source "/home/peet/.config/mutt/accounts/52.muttrc"
folder-hook '52' 'source /home/peet/.config/mutt/accounts/52.muttrc'

##Account peter-pattaya
source "/home/peet/.config/mutt/accounts/52tr.muttrc"
folder-hook 'peter-pty' 'source /home/peet/.config/mutt/accounts/52tr.muttrc'
##Account peter-travel
source "/home/peet/.config/mutt/accounts/peter-travel.muttrc"
folder-hook 'peter-pty' 'source /home/peet/.config/mutt/accounts/peter-travel.muttrc'
##Account MG
source "/home/peet/.config/mutt/accounts/MG.muttrc"
folder-hook 'MG' 'source /home/peet/.config/mutt/accounts/MG.muttrc'

##Account PG
source "/home/peet/.config/mutt/accounts/PG.muttrc"
folder-hook 'PG' 'source /home/peet/.config/mutt/accounts/PG.muttrc'



macro index i4 '<sync-mailbox><enter-command>source /home/peet/.config/mutt/accounts/MG.muttrc<enter><change-folder>!<enter>'
macro index i5 '<sync-mailbox><enter-command>source /home/peet/.config/mutt/accounts/PG.muttrc<enter><change-folder>!<enter>'
macro index i3 '<sync-mailbox><enter-command>source /home/peet/.config/mutt/accounts/52.muttrc<enter><change-folder>!<enter>'
macro index i2 '<sync-mailbox><enter-command>source /home/peet/.config/mutt/accounts/52tr.muttrc<enter><change-folder>!<enter>'
macro index i1 '<sync-mailbox><enter-command>source /home/peet/.config/mutt/accounts/peter-travel.muttrc<enter><change-folder>!<enter>'

